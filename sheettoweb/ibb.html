<!DOCTYPE html>
<html>
<head>
  <title>Image Upload to imgbb</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

<h4>Upload Photo</h4>

<input type="file" id="imageFile" class="form-control mb-2">
<input type="text" id="imageName" class="form-control mb-2" placeholder="Enter image name (without extension)">
<button class="btn btn-primary" onclick="uploadImage()">Upload</button>

<hr>

<h5>Uploaded Image</h5>
<img id="preview" style="max-width:300px;display:none" class="img-thumbnail">
<p><b>Image URL:</b> <span id="imageUrl"></span></p>

<script>
const API_KEY = "f5d95811959fdcd59c8ea459aadb650b"; // ← यहाँ आफ्नो API key राख्नुहोस्

function uploadImage() {
  const fileInput = document.getElementById("imageFile");
  const imageName = document.getElementById("imageName").value;

  if (!fileInput.files.length) {
    alert("Please select image");
    return;
  }

  const formData = new FormData();
  formData.append("image", fileInput.files[0]);
  if (imageName) {
    formData.append("name", imageName); // rename image
  }

  fetch(`https://api.imgbb.com/1/upload?key=${API_KEY}`, {
    method: "POST",
    body: formData
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      const url = data.data.url;

      document.getElementById("preview").src = url;
      document.getElementById("preview").style.display = "block";
      document.getElementById("imageUrl").innerText = url;

      console.log("Saved URL:", url);
    } else {
      alert("Upload failed");
    }
  })
  .catch(err => {
    console.error(err);
    alert("Error uploading image");
  });
}
</script>

</body>
</html>
