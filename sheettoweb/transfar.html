<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Member Transfer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">

  <h4 class="mb-3">ğŸ’¸ Member to Member Transfer</h4>

  <div class="card p-3">
    <div class="mb-2">
      <label class="form-label">From Member ID</label>
      <input id="from" class="form-control" placeholder="M001">
    </div>

    <div class="mb-2">
      <label class="form-label">To Member ID</label>
      <input id="to" class="form-control" placeholder="M002">
    </div>

    <div class="mb-2">
      <label class="form-label">Amount</label>
      <input id="amount" type="number" class="form-control" placeholder="1000">
    </div>

    <button class="btn btn-primary mt-2" onclick="doTransfer()">Transfer</button>
  </div>

  <div id="msg" class="mt-3"></div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycby5Fybue7tKj8FrYSVEWUDSTIG5oeutoVinIGEuj9RrfXzBQZt7qFIFSAsbmL7P6Yc/exec";

function doTransfer(){
  const from   = document.getElementById("from").value.trim();
  const to     = document.getElementById("to").value.trim();
  const amount = document.getElementById("amount").value;

  if(!from || !to || !amount){
    alert("All fields required");
    return;
  }

  fetch(scriptURL, {
    method: "POST",
    body: JSON.stringify({
      action: "transfer",
      From: from,
      To: to,
      Amount: amount
    })
  })
  .then(r => r.json())
  .then(res => {
    if(res.status){
      document.getElementById("msg").innerHTML =
        `<div class="alert alert-success">
          âœ… Transfer Successful <br>${res.message}
        </div>`;
    } else {
      document.getElementById("msg").innerHTML =
        `<div class="alert alert-danger">
          âŒ Failed: ${res.message || "Error"}
        </div>`;
    }
  })
  .catch(err=>{
    document.getElementById("msg").innerHTML =
      `<div class="alert alert-danger">Server Error</div>`;
  });
}
</script>

</body>
</html>
