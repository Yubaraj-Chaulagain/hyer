<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Mini ERP</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<h3>Mini ERP (Free)</h3>

<div id="login">
 <input id="u" class="form-control mb-2" placeholder="Username">
 <input id="p" type="password" class="form-control mb-2" placeholder="Password">
 <button class="btn btn-primary" onclick="login()">Login</button>
</div>

<div id="app" style="display:none">
 <h5>Add Member</h5>
 <input id="mname" class="form-control mb-2" placeholder="Name">
 <input id="madd" class="form-control mb-2" placeholder="Address">
 <button class="btn btn-success" onclick="addMember()">Save</button>
</div>

<script>
const API="https://script.google.com/macros/s/AKfycbzqmSmz3CWU_t-oYns1q2am6Obz3PvhbFY2glgEebKfu3UVZ2QnMacm3I6YGWIUygVg/exec";

function login(){
 fetch(API,{
  method:"POST",
  body:new URLSearchParams({
   action:"login",
   u:u.value,
   p:p.value
  })
 }).then(r=>r.json()).then(d=>{
  if(d.status=="success"){
   login.style.display="none";
   app.style.display="block";
  }else alert("Login Failed");
 });
}

function addMember(){
 fetch(API,{
  method:"POST",
  body:new URLSearchParams({
   action:"addMember",
   name:mname.value,
   address:madd.value
  })
 }).then(r=>r.json()).then(d=>alert("Saved"));
}
</script>

</body>
</html>
